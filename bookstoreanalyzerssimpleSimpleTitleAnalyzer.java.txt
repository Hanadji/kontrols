package bookstore.analyzers.simple;

public class SimpleTitleAnalyzer {
    private String[] bookTitles;
    private int[] wordCounts;
    private java.util.Map<String, Integer> titleStats;

    public void analyzeBookTitles(String[] titles) {
        this.bookTitles = titles;
        this.wordCounts = new int[titles.length];
        this.titleStats = new java.util.HashMap<>();

        for (int i = 0; i < titles.length; i++) {
            int wc = countWords(titles[i]);
            wordCounts[i] = wc;
            titleStats.put(titles[i], wc);
        }
    }

    public void displayTitleAnalysis() {
        for (int i = 0; i < bookTitles.length; i++) {
            System.out.println("Название: '" + bookTitles[i] + "' - " + wordCounts[i] + " слова");
        }
    }

    public int countWords(String title) {
        if (title == null || title.trim().isEmpty()) return 0;
        return title.trim().split("\\s+").length;
    }

    public String findLongestTitle() {
        String longest = "";
        int maxWords = 0;
        for (java.util.Map.Entry<String, Integer> entry : titleStats.entrySet()) {
            if (entry.getValue() > maxWords) {
                maxWords = entry.getValue();
                longest = entry.getKey();
            }
        }
        return longest;
    }
}